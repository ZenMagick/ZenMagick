parameters:
  # default session timeout
  admin.session_timeout: 1440

services:
  ZMRequest:
    class: Request
    scope: container
    calls:
      - [setSession, [@ZMSession]]

  ZMPlugins:
    class: Plugins
    scope: container
  pluginService: @ZMPlugins

  sessionHandler:
    class: ZMZenCartSessionHandler
    scope: container
    calls:
      - [setExpiryTime, [%admin.session_timeout%]]

  messageService:
    class: ZMMessages
    scope: container

  adminUserPrefService:
    class: ZMAdminUserPrefs
    scope: container

  adminUserRoleService:
    class: ZMAdminUserRoles
    scope: container

  adminUserService:
    class: ZMAdminUsers
    scope: container

  sacsPermissionService:
    class: ZMSacsPermissions
    scope: container

  ZMSession:
    class: zenmagick\http\session\Session
    scope: container
    calls:
      - [setName, ['zmAdmin']]
      - [registerSessionHandler, [@sessionHandler]]

