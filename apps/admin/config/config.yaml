#
# admin default settings
#

## general settings
zenmagick:
  version: ${zenmagick.version}

  ## core
  core:
    ## db
    database:
      provider: ZMPdoDatabase
      mappings:
        file: config/db_mappings.txt
        cache:
          enabled: false
        autoMap:
          enabled: true

    ## locales
    locales:
      locale: en_NZ
      provider: PomoLocale

    ## fs
    fs:
      permissions:
        fix: true
        defaults:
          file: 0666
          folder: 0777

    ## security
    security:
      defaultAuthenticationProvider: ZMZenCartAuthentication

  ## base
  base:
    ## events
    events:
      listeners:
        ## TODO: these should be swapped
        - zenmagick\apps\store\StoreEventListener
        - zenmagick\http\BootstrapListener
        - ZMAdminEventHandler
        - ZMEmailFixes
    ## logging
    logging:
      level: ALL
      enabled: false
      handleErrors: true
      handlers:
        - zenmagick\base\logging\handler\DefaultLoggingHandler
    ## plugins
    plugins:
      context: 2

  ## mvc
  mvc:
    ## templates
    templates:
      ext: .php

    ## view
    view:
      default: ZMSavantView
      defaultLayout: default_layout

    ## request
    request:
      index: index.php
      missingPage: error
      invalidSession: login
      seoRewriter: DefaultSeoRewriter

    ## seo
    seo:
      type: default

    ## html
    html:
      xhtml: false
      charset: utf-8

    ## sacs
    sacs:
      handler: UserRoleSacsHandler
      mappingProviders: DBSacsPermissionProvider

    ## rpc
    rpc:
      format: JSON

    ## session
    session:
      userFactory: AdminUserFactory

    ## toolbox tools
    toolbox:
      tools:
        - net:ToolboxNet
        - html:ToolboxHtml
        - form:ToolboxForm
        - macro:ToolboxMacro
        - locale:ToolboxLocale
        - utils:ToolboxUtils
        - admin:ToolboxAdmin
        - admin2:ToolboxAdmin2

    ## sacs
    sacs:
      handler:
        - ZMUserRoleSacsHandler


## app settings
## all available dashboard widgets
apps:
  store:
    dashboad:
      widgets: ZMOrderStatsDashboardWidget,ZMLatestOrdersDashboardWidget,ZMLatestAccountsDashboardWidget,ZMRecentSearchesDashboardWidget,ZMUpdateCheckerDashboardWidget,ZMPendingDashboardWidget
      default: '{"layout":"col2l","widgets":[["ZMOrderStatsDashboardWidget","ZMLatestAccountsDashboardWidget"],["ZMLatestOrdersDashboardWidget"]]}'
    catalog:
      controller: CatalogDefaultTabController
    themes:
      default: default
