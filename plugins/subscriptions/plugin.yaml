meta:
  name: 'Subscriptions'
  version: '${plugin.version}'
  author: 'zenmagick.org'
  description: 'Allow users to subscribe products/orders'

storefront:
  routing:
    cancel_subscription:
      pattern: /order/subscription/cancel/{orderId}
      defaults: { _controller: zenmagick\plugins\subscriptions\controller\CancelSubscriptionController, orderId: 0 }
      options:
        view: redirect://account
    subscription_request:
      pattern: /order/subscription/subscribe
      defaults: { _controller: zenmagick\plugins\subscriptions\controller\SubscriptionRequestController }
      options:
        "view:success": redirect://subscription_request

admin:
  routing:
    subscriptionAdmin:
      pattern: /orders/subscriptions
      defaults: { _controller: zenmagick\plugins\subscriptions\controller\SubscriptionAdminController }
      options:
        "view:success": redirect://subscriptionAdmin
  menu:
    subscriptions:
      parent: configuration-plugins
      requestId: subscriptionsAdmin
      name: 'Subscriptions'
